import{d as R,r as c,o as a,c as s,a as t,w as L,v as Z,b as z,e as T,f as B,t as r,u as F,R as I,g as b,h as E,i as U,j as V,k as M,F as N,l as A,n as O,m as q,_ as P}from"./index-78d90b2a.js";const Y={class:"w-full flex flex-row items-center justify-center"},G=["onSubmit"],J=t("label",{for:"default-search",class:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"},"Search",-1),K={class:"relative"},Q=t("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[t("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),W=R({__name:"Search",emits:["searchClicked"],setup(j,{emit:e}){const v=c(""),m=()=>{e("searchClicked",v.value)};return(u,f)=>(a(),s("div",Y,[t("form",{class:"w-1/2 p-2",onSubmit:z(m,["prevent"])},[J,t("div",K,[Q,L(t("input",{type:"search",id:"default-search","onUpdate:modelValue":f[0]||(f[0]=h=>v.value=h),onInput:m,class:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."},null,544),[[Z,v.value]])])],40,G)]))}}),X={key:0},ee=["src"],te={class:"flex flex-col w-full h-auto relative bottom-[95px] rounded-lg justify-between p-4 hover:cursor-pointer duration-200 transition ease-in-out leading-normal backdrop-blur-sm"},ae={class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},se={key:0},re={key:1},oe={class:"text-white"},le=["src"],ne={class:"flex flex-col w-full h-auto relative bottom-[120px] rounded-lg justify-between p-4 hover:cursor-pointer duration-200 transition ease-in-out leading-normal backdrop-blur-sm"},ie={class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},de={key:0},ce={key:1},ue={class:"text-white"},he={class:"text-white"},ge={key:2,href:"#",class:"flex flex-col lg:h-[350px] lg:w-[350px] h-[300px] w-[300px] bg-white border rounded-lg shadow hover:bg-gray-100 dark:border-transparent dark:bg-gray-800 dark:hover:bg-gray-700"},pe=["src"],fe={class:"flex flex-col w-full h-auto relative bottom-[95px] rounded-b-lg border-transparent justify-between p-4 hover:cursor-pointer duration-200 transition ease-in-out leading-normal backdrop-blur-sm"},me={class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},xe={key:0},be={key:1},ve={class:"text-white"},_e=["src"],ye={class:"flex flex-col w-full h-auto relative bottom-[95px] rounded-lg justify-between p-4 hover:cursor-pointer duration-200 transition ease-in-out leading-normal backdrop-blur-sm"},we={class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},ke={key:0},Se={key:1},je={class:"text-white"},$e=R({__name:"InfoCard",props:{info:{},infoType:{}},setup(j){const e=j,v=u=>new Date(u).getFullYear(),m=u=>{var f=Math.floor(u/6e4),h=Number((u%6e4/1e3).toFixed(0));return f+":"+(h<10?"0":"")+h};return(u,f)=>{var h,k,S,w;return u.info?(a(),s("div",X,[e.infoType=="artist"?(a(),T(F(I),{key:0,to:{name:"artist",params:{id:e.info.id}},class:"flex flex-col lg:h-[350px] lg:w-[350px] h-[300px] w-[300px] bg-white border rounded-lg shadow md:flex-col md:max-w-xl hover:bg-gray-100 dark:border-transparent dark:bg-gray-800 dark:hover:bg-gray-700"},{default:B(()=>{var o,g,l,i,_;return[t("img",{class:"object-cover w-auto rounded-lg h-full lg:min-h-[350px] min-h-[300px]",src:e.info.images[0]?(o=e.info.images[0])==null?void 0:o.url:"https://placehold.co/600x600",alt:""},null,8,ee),t("div",te,[t("h5",ae,[((g=e.info)==null?void 0:g.name.length)<22?(a(),s("span",se,r((l=e.info)==null?void 0:l.name),1)):(a(),s("span",re,r(((i=e.info)==null?void 0:i.name.substring(0,22))+"..."),1))]),t("p",oe,r((_=e.info)==null?void 0:_.followers.total.toLocaleString("en-US"))+" followers",1)])]}),_:1},8,["to"])):b("",!0),e.infoType=="album"?(a(),T(F(I),{key:1,to:{name:"album",params:{id:e.info.id}},class:"flex flex-col lg:h-[350px] lg:w-[350px] h-[300px] w-[300px] bg-white border rounded-lg shadow md:flex-col md:max-w-xl hover:bg-gray-100 dark:border-transparent dark:bg-gray-800 dark:hover:bg-gray-700"},{default:B(()=>{var o,g,l,i;return[t("img",{class:"object-cover w-full rounded-lg h-full lg:min-h-[350px] min-h-[300px]",src:e.info.images[0]?(o=e.info.images[0])==null?void 0:o.url:"https://placehold.co/600x600",alt:""},null,8,le),t("div",ne,[t("h5",ie,[((g=e.info)==null?void 0:g.name.length)<22?(a(),s("span",de,r((l=e.info)==null?void 0:l.name),1)):(a(),s("span",ce,r(((i=e.info)==null?void 0:i.name.substring(0,22))+"..."),1))]),t("p",ue,[t("span",null,r(e.info.album_type),1),E(" - "+r(v(e.info.release_date)),1)]),t("p",he,r(e.info.artists[0].name),1)])]}),_:1},8,["to"])):b("",!0),e.infoType=="track"?(a(),s("a",ge,[t("img",{class:"object-cover w-full rounded-lg h-full lg:min-h-[350px] min-h-[300px]",src:e.info.album.images[0]?(h=e.info.album.images[0])==null?void 0:h.url:"https://placehold.co/600x600",alt:""},null,8,pe),t("div",fe,[t("h5",me,[((k=e.info)==null?void 0:k.name.length)<25?(a(),s("span",xe,r((S=e.info)==null?void 0:S.name),1)):(a(),s("span",be,r(((w=e.info)==null?void 0:w.name.substring(0,25))+"..."),1))]),t("p",ve,r(e.info.artists[0].name)+" - "+r(m(e.info.duration_ms)),1)])])):b("",!0),e.infoType=="playlist"?(a(),T(F(I),{key:3,to:{name:"playlist",params:{id:e.info.id}},class:"flex flex-col lg:h-[350px] lg:w-[350px] h-[300px] w-[300px] bg-white border rounded-lg shadow md:flex-col md:max-w-xl hover:bg-gray-100 dark:border-transparent dark:bg-gray-800 dark:hover:bg-gray-700"},{default:B(()=>{var o,g,l,i,_;return[t("img",{class:"object-cover w-full rounded-lg h-full lg:min-h-[350px] min-h-[300px]",src:(o=e.info.images[0])!=null&&o.url?(g=e.info.images[0])==null?void 0:g.url:"https://placehold.co/600x600",alt:""},null,8,_e),t("div",ye,[t("h5",we,[((l=e.info)==null?void 0:l.name.length)<25?(a(),s("span",ke,r((i=e.info)==null?void 0:i.name),1)):(a(),s("span",Se,r(((_=e.info)==null?void 0:_.name.substring(0,25))+"..."),1))]),t("p",je,r(e.info.owner.display_name),1)])]}),_:1},8,["to"])):b("",!0)])):b("",!0)}}}),Ce={class:"flex flex-col p-5 bg-slate-900"},Te={key:0,role:"status",class:"flex-col gap-2 space-y-8 animate-pulse w-full mt-4 md:flex md:items-center"},Be=q('<div class="flex items-center justify-center w-[250px] h-[250px] bg-gray-300 rounded sm:w-96 dark:bg-gray-700" data-v-d024045a><svg class="w-10 h-10 text-gray-200 dark:text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 18" data-v-d024045a><path d="M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z" data-v-d024045a></path></svg></div><div class="w-[350px] relative bottom-[160px] backdrop-blur-sm" data-v-d024045a><div class="h-2.5 bg-gray-200 rounded-full dark:bg-white w-48 mb-4" data-v-d024045a></div><div class="h-2 bg-gray-200 rounded-full dark:bg-white max-w-[480px] mb-2.5" data-v-d024045a></div><div class="h-2 bg-gray-200 rounded-full dark:bg-white mb-2.5" data-v-d024045a></div><div class="h-2 bg-gray-200 rounded-full dark:bg-white max-w-[440px] mb-2.5" data-v-d024045a></div><div class="h-2 bg-gray-200 rounded-full dark:bg-white max-w-[460px] mb-2.5" data-v-d024045a></div><div class="h-2 bg-gray-200 rounded-full dark:bg-white max-w-[360px]" data-v-d024045a></div></div><span class="sr-only" data-v-d024045a>Loading...</span>',3),Fe=[Be],Ie={key:1,class:"mt-4"},Re={class:"w-full flex flex-row flex-wrap gap-3 justify-center"},Ve=["onClick"],Me={key:0,class:"flex flex-wrap gap-4 p-4 mt-4 items-center justify-center"},Ne=R({__name:"Home",setup(j){const e="ddddd13beb364c3a8aafa84df362e82c",v="e9dba02e3a234c89ac52a6edf3bd086d",m=c(null),u=c(null),f=c(),h=c(),k=c(),S=c(),w=c(),o=c(!1),g=c(["album","artist","playlist","track"]),l=c([{name:"album",isSelected:!1},{name:"artist",isSelected:!0},{name:"playlist",isSelected:!1},{name:"track",isSelected:!1}]),i=c("artist");U(()=>{_()});const _=async()=>{const n=new URLSearchParams;n.append("grant_type","client_credentials"),n.append("client_id",e),n.append("client_secret",v);try{const p=await V.post("https://accounts.spotify.com/api/token",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});m.value=p.data.access_token,console.log("token value: ",m.value),u.value="Bearer "+m.value,sessionStorage.setItem("token",u.value)}catch(p){console.error("Error:",p)}},D=async n=>{var p,x,d,C;o.value=!0;try{const y=await V.get("/search?q="+n+"&type="+g.value,{headers:{Authorization:u.value}});w.value=y.data,f.value=(p=y.data)==null?void 0:p.artists,S.value=(x=y.data)==null?void 0:x.playlists,k.value=(d=y.data)==null?void 0:d.tracks,h.value=(C=y.data)==null?void 0:C.albums,o.value=!1,console.log(w.value)}catch(y){console.log("error:",y),o.value=!1}},H=n=>{var p=l.value.findIndex(d=>d.name==n),x=l.value[p];console.log("changed",n),x.isSelected==!0?x.isSelected=!1:(l.value.forEach(d=>{d.isSelected=!1}),l.value[p].isSelected=!0),i.value=n,$(n)},$=n=>{switch(n){case"artist":return f.value;case"album":return h.value;case"playlist":return S.value;case"track":return k.value;default:return null}};return(n,p)=>{var x;return a(),s("div",Ce,[M(W,{onSearchClicked:D}),o.value?(a(),s("div",Te,Fe)):b("",!0),w.value!=null&&o.value==!1?(a(),s("div",Ie,[t("div",Re,[(a(!0),s(N,null,A(l.value,d=>(a(),s("div",null,[t("button",{type:"button",class:O([{selectedState:d.isSelected},"py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-full border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"]),onClick:C=>H(d.name)},r(d.name),11,Ve)]))),256))]),$(i.value)?(a(),s("div",Me,[(a(!0),s(N,null,A((x=$(i.value))==null?void 0:x.items,d=>(a(),s("div",null,[M($e,{info:d,"info-type":i.value},null,8,["info","info-type"])]))),256))])):b("",!0)])):b("",!0)])}}});const De=P(Ne,[["__scopeId","data-v-d024045a"]]);export{De as default};
